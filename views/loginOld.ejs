<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://kit.fontawesome.com/64d58efce2.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css" integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p" crossorigin="anonymous"/>
    <link rel="stylesheet" href="/loginStyle.css">
    <title>Bank Lynx</title>
  </head>
  <body>
    <div id="afterClick" >
      <div class="linekk line-1kk"></div>
      <div class="linekk line-2kk"></div>
      <div class="linekk line-3kk"></div>
      <div class="linekk line-4kk"></div>
     <div class="linekk line-5kk"></div> 
    </div>
    <div class="container">
      <div class="forms-container"> 
        <div class="signin-signup">

          <form name="form" class="sign-in-form" action="/login" method="POST" onsubmit="login()" >
            <h2 class="title">Customer Login</h2>
            <p style="font-size: 12px; margin-bottom: 10px;" >To sign-in You should already have a account in our bank</p>
           
            <% if( match == "yes" && userType == "customer" ){ %>
              <p style="font-size: 15px; margin-bottom: 10px; color: red;" >Unable to login - please check your user ID or the password</p>
            <% } %>
            <div class="row userInput">
              <p>Account No.</p>
              <div class="allinOne" >
                <i class="frontIcon far fa-user"></i><input class="userId" name="username" type="text" placeholder="Account No." autocomplete="off" required/>
              </div>
            </div>
            <div class="row">
              <p>Password</p>
              <div class="allinOne" >
                <i class="frontIcon fas fa-lock"></i><input class="passInput1" name="password" type="password" placeholder="password" autocomplete="off" required/><i class="passwordIcon1 far fa-eye-slash"></i>
              </div>
              <a  onclick="myAfterClick()" class="forgetpass" href="/customer/forgetpasseord">Forget Password ?</a>
            </div>
            <button  onclick="myAfterClick()" name="customer" type="submit" value="customer" class="btn solid" >Log in</button>
            <p style="font-size: 12px;" >If it's your first time, Sign-up first</p>
            <div class="field">
              <a  onclick="myAfterClick()" class="but15" href="/customersingup" >
                <span></span>
                <span></span>
                <span></span> 
                <span></span>
                sign up
              </a>
            </div>
          </form>

          <form name="myform" class="sign-up-form" action="/login" method="post" onsubmit="return validateform()" >
            <h2 class="title">Banker Login</h2>
            <% if( match == "yes" && userType == "banker" ){ %>
              <p style="font-size: 15px; margin-bottom: 10px; color: red;" >Unable to login - please check your user ID or the password</p>
            <% } %>
            <div class="row userInput">
              <p>Banker ID</p>
              <div class="allinOne" >
              <i class="frontIcon far fa-user"></i><input class="userId" name="username" type="text" placeholder="Banker ID" autocomplete="off" required/>
              </div>
            </div>
            <div class="row">
              <p>Password</p>
              <div class="allinOne" >
              <i class="frontIcon fas fa-lock"></i><input class="passInput" name="password" type="password" placeholder="password" autocomplete="off" required/><i class="passwordIcon far fa-eye-slash"></i>
              </div>
            </div>
            <button onclick="myAfterClick()" name="banker" type="submit" value="banker" class="btn solid" >Log in</button>
          </form>

        </div>
      </div>

      <div class="panels-container">
        <div class="panel left-panel">
          <div class="content">
            <h3>
              Are you a Banker ?
            </h3>
            <p>
              Sing-in using your ID and password
            </p>
            <button class="btn transparent" id="sign-up-btn">
              Banker Login
            </button>
          </div>
          <img src="/img/customer.png" class="image" alt="" />
        </div>
        <div class="panel right-panel">
          <div class="content">
            <h3>
              Are you a Customer ?
            </h3>
            <p>
              Sign-in using account number & passwprd 
            </p>
            <button class="btn transparent" id="sign-in-btn">
              Customer Login
            </button>
          </div>
          <img src="/img/banker.png" class="image" alt="" />
        </div>
      </div>
    </div>

    <script>

const sign_in_btn = document.querySelector("#sign-in-btn");
const sign_up_btn = document.querySelector("#sign-up-btn");
const container = document.querySelector(".container");

sign_up_btn.addEventListener("click", () => {
  container.classList.add("sign-up-mode");
});

sign_in_btn.addEventListener("click", () => {
  container.classList.remove("sign-up-mode");
});

function validateform(){
		var user=document.myform.user.value;
		var password=document.myform.password.value;

		if (user==null || user==""){
			alert("Username can't be blank");
			return false;
		}else
		if (password.length<8) {
			alert("Password must be at least 8 characters long.");
			return false;
		}

		var x=document.myform.email.value;
		var atposition=x.indexOf("@");
		var dotposition=x.lastIndexOf(".");

		if (atposition<1 ||dotposition<atposition+2 || dotposition+2>=x.length) {
			alert("Please enter a valid email address");
			return false;
		}
	}

function login(){
	var user=document.form.user.value;
	var password=document.form.password.value;

	if (user==null || user=="") {
		alert("Either the username or password you entered is incorrect.\nPlease try again.");
		form.username.focus();
	}else{
		self.location.href = page;
	}
}
          var passInput1 = document.querySelector(".passInput1");
            document.querySelector(".passwordIcon1").addEventListener("click",function(){
           if(this.classList[2] == "fa-eye-slash"){
              this.classList.remove("fa-eye-slash");
              this.classList.add("fa-eye");
              passInput1.type = "text";
           }else{
              this.classList.remove("fa-eye");
              this.classList.add("fa-eye-slash");
              passInput1.type = "password";
           }
        });

          var passInput = document.querySelector(".passInput");
            document.querySelector(".passwordIcon").addEventListener("click",function(){
           if(this.classList[2] == "fa-eye-slash"){
              this.classList.remove("fa-eye-slash");
              this.classList.add("fa-eye");
              passInput.type = "text";
           }else{
              this.classList.remove("fa-eye");
              this.classList.add("fa-eye-slash");
              passInput.type = "password";
           }
        });
   </script>

<script>
  let afterClick = document.getElementById("afterClick");
  function myAfterClick()
  {
    afterClick.style.display = "flex";
  }
</script>

</body>
</html>